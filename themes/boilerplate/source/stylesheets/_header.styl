// edit()

header-background-color = color1

header.main
  background-color: header-background-color
  -webkit-tap-highlight-color: rgba(0,0,0,0)
  line-height: 150%
  padding: 0
  min-height: 3rem
  +from(mobile-cutoff)
    padding: .6rem 0 .8rem
  +desktop()
    padding: 1rem 0 1.2rem
  div
    center(desktop-cutoff, padding: false)
  h1
    margin 0 0 0 1rem
    display inline-block
    +from(mobile-cutoff)
      display block
      margin 0
      text-align center
    a
      color: tint(header-background-color, 80%)
      font-weight 700
      font-size 1.4rem
      background none
      border-bottom none
      +from(mobile-cutoff)
        font-size 1.8rem
      +desktop()
        font-size 2rem
        text-align center
      &:hover
        transition: all 200ms ease-in-out
        color: shade(header-background-color, 50%)
  // **TODO** change this class in the nav js
  .js-nav-active &
    position: fixed
    width: 100%
    z-index: 3

nav.main-menu
  // **TODO** change this class in nav js
  .js &
    clip: rect(0 0 0 0)
    max-height: 0
    position: absolute
    display: block
    overflow: hidden
    zoom: 1
    position: relative
    width: 100%
    margin 0
    margin-top: 1.25rem
  +from(mobile-cutoff)
    margin-top 0 !important
    float: none
    width: auto
    &.closed
      max-height: none
  &.opened
    max-height: 9999px
  ul
    line-height: 1.5rem
    width: 100%
    text-align: center
    inline-list()
    margin-left: 0
    margin-bottom: 0
    +from(mobile-cutoff)
      border-top: none
      line-height: 1rem
    li
      float: none
      width: 100%
      display: block
      padding: .75rem 0
      margin-top: 0
      background: shade(header-background-color, 10%)
      border-bottom: 1px solid shade(header-background-color, 30%)
      &:hover, &.active, .active &
        color: tint(header-background-color, 50%)
        background: tint(header-background-color, 8%)
        transition: all 250ms ease-in-out
      +from(mobile-cutoff)
        display: inline-block
        width: auto
        background: none
        border-bottom: none
        &:hover
          border-bottom: none
          background: none
  a
    // padding: .75rem
    -webkit-tap-highlight-color: rgba(0,0,0,0)
    text-decoration: none
    font-weight: 400
    font-size: 1.125rem
    color: tint(header-background-color, 50%)
    min-width: 100%
    text-align: center
    border-bottom: none
    &.active, .active &
      color: shade(header-background-color, 50%)
      transition: all 250ms ease-in-out
    +from(mobile-cutoff)
      color: shade(header-background-color, 50%)
      vertical-align: middle
      &.active, .active &, &:hover
        border-bottom: none
        color: tint(header-background-color, 70%)
        transition()
        background: none

// **TODO** replace with icon and fade out opacity on open
.nav-toggle
  -webkit-tap-highlight-color: rgba(0,0,0,0)
  -webkit-touch-callout: none
  user-select: none
  text-indent: -20rem
  position: absolute
  top: .7rem
  right: .5rem
  overflow: hidden
  width: 3.7rem
  float: right
  border-bottom: none
  font-size: 1.9rem
  &:hover
    border-bottom: none
    opacity: .8
  +from(mobile-cutoff)
    display: none
  &:before
    color: tint(header-background-color, 70%)
    font-family: "responsivenav"
    text-transform: none
    text-align: center
    content: "\2261"
    text-indent: 0
    speak: none
    position: absolute
    right: .5rem
    top: 0
  &.active:before
    font-size: 24px
    content: "\78"

.disable-pointer-events
  pointer-events: none !important

.mask
  transition: all 300ms ease-in-out
  background: rgba(0,0,0, .5)
  visibility: hidden
  position: absolute
  opacity: 0
  z-index: 2
  bottom: 0
  right: 0
  left: 0
  top: 0
  .android &
    -webkit-transition: none
    transition: none
  .js-nav-active &
    visibility: visible
    opacity: 1
  +from(mobile-cutoff)
    display: none !important
    opacity: 0 !important

@font-face
  font-family: "responsivenav"
  src: url("../../fonts/responsivenav.eot")
  src: url("../../fonts/responsivenav.eot?#iefix") format("embedded-opentype"), url("../../fonts/responsivenav.ttf") format("truetype"), url("../../fonts/responsivenav.woff") format("woff"), url("../../fonts/responsivenav.svg#responsivenav") format("svg")
  font-weight: normal
  font-style: normal
