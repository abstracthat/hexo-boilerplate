// $header-height: rem(60)
// $small-header-height: $header-height/1.5
$header-background-color: $color1


/* =============================================
 *
 *   FIXED RESPONSIVE NAV
 *
 *   (c) 2014 @adtileHQ
 *   http://www.adtile.me
 *   http://twitter.com/adtilehq
 *
 *   Free to use under the MIT License.
 *
 * ============================================= */

// body > nav:first-child
nav.main-menu
  width: 100%
  margin: .6rem 0 0
  +breakpoint(medium)
    margin: .7rem 1.25rem 0
  +breakpoint(large)
    margin-top: 1.25rem
  ul
    line-height: 2rem    
    width: 100%
    display: inline
    float: left
    margin-left: 0
    margin-bottom: 0
    border-top: 1px solid shade($header-background-color, 30%)
    +breakpoint(medium)
      border-top: none
    li
      margin-left: 0
      margin-top: 0
      width: 100%
      display: block
      +breakpoint(medium)
        display: inline-block
        width: auto
  a
    background: shade($header-background-color, 10%)
    padding: .75rem
    -webkit-tap-highlight-color: rgba(0,0,0,0)
    text-decoration: none
    font-weight: 400
    font-size: 1.125rem
    color: shade($header-background-color, 50%)
    border-bottom: 1px solid shade($header-background-color, 30%)
    width: 100%
    float: left
    text-align: center
    &.active, .active &, &:hover
      color: tint($header-background-color, 50%)
      background: tint($header-background-color, 8%)
      +transition(all 250ms ease-in-out)
    +breakpoint(medium)
      padding: 0 0 0 1.5rem
      vertical-align: middle
      background: none
      border-bottom: none
      float: left
      margin: 0
      &.active, .active &, &:hover
        border-bottom: none
        background: none
  &.opened
    max-height: 9999px
  .js &
    clip: rect(0 0 0 0)
    max-height: 0
    position: absolute
    display: block
    overflow: hidden
    zoom: 1
    position: relative
    &.closed
      max-height: none
  +breakpoint(medium)
    float: right
    width: auto

.nav-toggle
  -webkit-tap-highlight-color: rgba(0,0,0,0)
  -webkit-touch-callout: none
  -webkit-user-select: none
  -moz-user-select: none
  -ms-user-select: none
  -o-user-select: none
  user-select: none
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale
  text-decoration: none
  text-indent: rem(-300)
  position: absolute
  top: .9rem
  right: .5rem
  overflow: hidden
  width: rem(60)
  float: right
  font-size: rem(30)
  +breakpoint(medium)
    display: none
  &:before
    color: tint($header-background-color, 70%)
    font-family: "responsivenav"
    text-transform: none
    text-align: center
    content: "\2261" /* Hamburger icon */
    text-indent: 0
    speak: none
    position: absolute
    right: .5rem
    top: 0
  &.active:before
    font-size: 24px
    content: "\78" /* Close icon */

.disable-pointer-events
  pointer-events: none !important

.mask
  +transition(opacity 300ms ease-in-out)
  background: rgba(0,0,0, .5)
  visibility: hidden
  position: fixed
  opacity: 0
  z-index: 2
  bottom: 0
  right: 0
  left: 0
  top: 0
  .android &
    -webkit-transition: none
    transition: none
  .js-nav-active &
    visibility: visible
    opacity: 1
  +breakpoint(medium)
    display: none !important
    opacity: 0 !important

@font-face
  font-family: "responsivenav"
  src: url("../../fonts/responsivenav.eot")
  src: url("../../fonts/responsivenav.eot?#iefix") format("embedded-opentype"), url("../../fonts/responsivenav.ttf") format("truetype"), url("../../fonts/responsivenav.woff") format("woff"), url("../../fonts/responsivenav.svg#responsivenav") format("svg")
  font-weight: normal
  font-style: normal